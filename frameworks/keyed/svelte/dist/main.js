!function(){"use strict";var n=Array.isArray,t=Array.from,e=Object.isFrozen,l=Object.freeze,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyDescriptors;const u=2,a=4,s=8,c=16,f=32,d=64,v=128,p=256,h=512,b=1024,g=2048,m=4096,y=8192,_=16384,w=Symbol("$state");function x(n){return n===this.v}function k(n){return t=n,e=this.v,!(t!=t?e==e:t!==e||null!==t&&"object"==typeof t||"function"==typeof t);var t,e}const S=1,E=2,N=4,O=8,A=16,C=64,T=Symbol(),j=["touchstart","touchmove","touchend"];function M(n){return{f:0,reactions:null,equals:x,v:n,version:0}}function q(n,t){var e=n.v!==T;if(!un&&e&&null!==tn&&cn()&&tn.f&u)throw new Error("ERR_SVELTE_UNSAFE_MUTATION");return n.equals(t)||(n.v=t,n.version++,cn()&&e&&null!==en&&en.f&p&&!(en.f&f)&&(null!==ln&&ln.includes(n)?(An(en,h),wn(en)):null===on?function(n){on=n}([n]):on.push(n)),Nn(n,h,!0)),t}function R(t,e){if("object"==typeof t&&null!=t&&w in t){const l=e.get(t);if(void 0!==l)return l;if(n(t)){const n=[];e.set(t,n);for(const l of t)n.push(R(l,e));return n}{const n={},l=Reflect.ownKeys(t),o=i(t);e.set(t,n);for(const i of l)if(i!==w)if(o[i].get)r(n,i,o[i]);else{const l=t[i];n[i]=R(l,e)}return n}}return t}function L(n){return R(n,new Map)}function V(n,t,e){var l=!!(n&d),r={ctx:sn,deps:null,dom:null,f:n|h,first:null,fn:t,last:null,next:null,parent:l?null:en,prev:null,teardown:null,transitions:null};if(null===tn||l||function(n,t){var e=t.last;null===e?t.last=t.first=n:(e.next=n,n.prev=e,t.last=n)}(r,tn),e){var o=Q;try{X(!0),bn(r),r.f|=_}finally{X(o)}}else wn(r);return r}function $(n){return V(a,n,!1)}function z(n){return V(s|f,n,!0)}function P(t){var e=t.dom;if(null!==e&&function(t){if(n(t))for(var e=0;e<t.length;e++){var l=t[e];l.isConnected&&l.remove()}else t.isConnected&&t.remove()}(e),hn(t),pn(t,0),An(t,m),t.transitions)for(const n of t.transitions)n.stop();t.teardown?.call(null);var l=t.parent;if(null!==l&&t.f&f&&null!==l.first){var r=t.prev,o=t.next;null!==r?null!==o?(r.next=o,o.prev=r):(r.next=null,l.last=r):null!==o?(o.prev=null,l.first=o):(l.first=null,l.last=null)}t.next=t.prev=t.teardown=t.ctx=t.dom=t.deps=t.parent=t.fn=null}function D(n,t){var e=n.length;if(e>0){var l=()=>--e||t();for(var r of n)r.out(l)}else t()}function U(n,t,e){if(!(n.f&g)){if(n.f^=g,null!==n.transitions)for(const l of n.transitions)(l.is_global||e)&&t.push(l);for(var l=n.first;null!==l;){var r=l.next;U(l,t,!!(!!(l.f&y)||!!(l.f&f))&&e),l=r}}}function F(n){B(n,!0)}function B(n,t){if(n.f&g){n.f^=g,fn(n)&&bn(n);for(var e=n.first;null!==e;){var l=e.next;B(e,!!(!!(e.f&y)||!!(e.f&f))&&t),e=l}if(null!==n.transitions)for(const e of n.transitions)(e.is_global||t)&&e.in()}}function H(n){hn(n);var t=n.deriveds;if(null!==t){n.deriveds=null;for(var e=0;e<t.length;e+=1)K(t[e])}}function I(n,t){H(n);var e=dn(n);An(n,(an||n.f&v)&&null!==n.deps?b:p),n.equals(e)||(n.v=e,Nn(n,h,t))}function K(n){H(n),pn(n,0),An(n,m),n.first=n.last=n.deps=n.reactions=n.fn=null}const W=0,Y=1;let G=W,J=!1,Q=!1;function X(n){Q=n}let Z=[],nn=0,tn=null,en=null,ln=null,rn=0,on=null;let un=!1,an=!1,sn=null;function cn(){return null!==sn&&sn.r}function fn(n){var t=n.f;if(t&h)return!0;if(t&b){var e=n.deps,l=!!(t&v);if(null!==e)for(var r=e.length,o=0;o<r;o++){var i=e[o];if(fn(i)&&(I(i,!0),n.f&h))return!0;var u=i.version;if(l){if(u>n.version)return n.version=u,!0;if(!an&&!i?.reactions?.includes(n)){var a=i.reactions;null===a?i.reactions=[n]:a.push(n)}}}l||An(n,p)}return!1}function dn(n){const t=ln,e=rn,l=on,r=tn,o=an,i=un;ln=null,rn=0,on=null,tn=n,an=!Q&&!!(n.f&v),un=!1;try{let t=n.fn(),e=n.deps;if(null!==ln){let t;if(null!==e){const l=e.length,r=0===rn?ln:e.slice(0,rn).concat(ln),o=r.length>16&&l-rn>1?new Set(r):null;for(t=rn;t<l;t++){const l=e[t];(null!==o?o.has(l):r.includes(l))||vn(n,l)}}if(null!==e&&rn>0)for(e.length=rn+ln.length,t=0;t<ln.length;t++)e[rn+t]=ln[t];else n.deps=e=ln;if(!an)for(t=rn;t<e.length;t++){const l=e[t],r=l.reactions;null===r?l.reactions=[n]:r[r.length-1]!==n&&r.push(n)}}else null!==e&&rn<e.length&&(pn(n,rn),e.length=rn);return t}finally{ln=t,rn=e,on=l,tn=r,an=o,un=i}}function vn(n,t){const e=t.reactions;let l=0;if(null!==e){l=e.length-1;const r=e.indexOf(n);-1!==r&&(0===l?t.reactions=null:(e[r]=e[l],e.pop()))}0===l&&t.f&v&&(An(t,h),pn(t,0))}function pn(n,t){const e=n.deps;if(null!==e){const l=0===t?null:e.slice(0,t);let r;for(r=t;r<e.length;r++){const t=e[r];null!==l&&l.includes(t)||vn(n,t)}}}function hn(n){let t=n.first;var e;for(n.first=null,n.last=null;null!==t;)e=t.next,P(t),t=e}function bn(n){var t=n.f;if(!(t&m)){An(n,p);var e=n.ctx,l=en,r=sn;en=n,sn=e;try{t&c||hn(n),n.teardown?.call(null);var o=dn(n);n.teardown="function"==typeof o?o:null}finally{en=l,sn=r}}}function gn(){if(nn>1e3)throw nn=0,new Error("ERR_SVELTE_TOO_MANY_UPDATES");nn++}function mn(n){for(var t=0;t<n.length;t++){kn(n[t],s|a)}}function yn(n){var t=n.length;if(0!==t){gn();for(var e=0;e<t;e++){var l=n[e];l.f&(m|g)||!fn(l)||bn(l)}}}function _n(){if(J=!1,nn>101)return;const n=Z;Z=[],mn(n),J||(nn=0)}function wn(n){G===W&&(J||(J=!0,queueMicrotask(_n)));for(var t=n;null!==t.parent;){var e=(t=t.parent).f;if(e&f){if(!(e&p))return;An(t,b)}}Z.push(t)}function xn(n,t,e,l){var r=n.first,o=[];n:for(;null!==r;){var i=r.f,u=!(i&(m|g)),c=i&f,d=!!(i&p),v=r.first;if(u&&(!c||!d))if(c&&An(r,p),i&s){if(c){if(!e&&null!==v){r=v;continue}}else if(fn(r)&&(bn(r),v=r.first),!e&&null!==v){r=v;continue}}else if(i&a)if(c||d){if(!e&&null!==v){r=v;continue}}else o.push(r);var h=r.next;if(null===h){let t=r.parent;for(;null!==t;){if(n===t)break n;var b=t.next;if(null!==b){r=b;continue n}t=t.parent}}r=h}if(o.length>0&&(t&a&&l.push(...o),!e))for(var y=0;y<o.length;y++)xn(o[y],t,!1,l)}function kn(n,t,e=!1){var l=[],r=Q;Q=!0;try{null!==n.first||n.f&f?(xn(n,t,e,l),yn(l)):yn([n])}finally{Q=r}}function Sn(n,t=!0){var e=G,l=Z;try{gn();const e=[];G=Y,Z=e,t&&mn(l);var r=n?.();return(Z.length>0||e.length>0)&&Sn(),nn=0,r}finally{G=e,Z=l}}function En(n){const t=n.f;if(t&m)return n.v;if(!(null===tn||tn.f&(f|d)||un)){const t=!!(tn.f&v),e=tn.deps;null!==ln||null===e||e[rn]!==n||t&&null!==en?null!==e&&0!==rn&&e[rn-1]===n||(null===ln?ln=[n]:ln.push(n)):rn++,null!==on&&null!==en&&en.f&p&&!(en.f&f)&&on.includes(n)&&(An(en,h),wn(en))}return t&u&&fn(n)&&I(n,!1),n.v}function Nn(n,t,e){var l=n.reactions;if(null!==l)for(var r=cn(),o=l.length,i=0;i<o;i++){var a=l[i];if(e&&r||a!==en){var s=a.f;An(a,t),(s&p||!!(s&b)&&!!(s&v))&&(a.f&u?Nn(a,b,e):wn(a))}}}const On=~(h|b|p);function An(n,t){n.f=n.f&On|t}function Cn(n,t=!1,e){sn={x:null,c:null,e:null,m:!1,p:sn,d:null,s:n,r:t,l1:[],l2:M(!1),u:null}}function Tn(n){const t=sn;if(null!==t){void 0!==n&&(t.x=n);const e=t.e;if(null!==e){t.e=null;for(let n=0;n<e.length;n++)$(e[n])}sn=t.p,t.m=!0}return n||{}}function jn(n){return"object"==typeof(t=n)&&null!==t&&"number"==typeof t.f?En(n):n;var t}function Mn(n){if("object"==typeof n&&null!=n&&!e(n)){if(w in n)return l(L(n));l(n)}return n}let qn=!1;var Rn,Ln,Vn,$n,zn,Pn,Dn;function Un(){return document.createTextNode("")}function Fn(n){return zn.call(n)}function Bn(n,t=!1){return Pn.call(n)}function Hn(t,e){var l=t.ownerDocument,o=e.type,i=e.composedPath?.()||[],u=i[0]||e.target;e.target!==u&&r(e,"target",{configurable:!0,value:u});var a=0,s=e.__root;if(s){var c=i.indexOf(s);if(-1!==c&&(t===document||t===window))return void(e.__root=t);var f=i.indexOf(t);if(-1===f)return;c<=f&&(a=c+1)}for(u=i[a]||e.target,r(e,"currentTarget",{configurable:!0,get:()=>u||l});null!==u;){var d=u.parentNode||u.host||null,v=u["__"+o];if(void 0!==v&&!u.disabled)if(n(v)){var[p,...h]=v;p.apply(u,[e,...h])}else v.call(u,e);if(e.cancelBubble||d===t||u===t)break;u=d}e.__root=t,u=t}const In=new Set,Kn=new Set;function Wn(n,t){const e=n.__nodeValue,l=function(n){return"string"==typeof n?n:null==n?"":n+""}(t);e!==l&&(n.nodeValue=l,n.__nodeValue=l)}let Yn=new WeakMap,Gn=null;function Jn(t,l,r,o,i,u=null){var a={flags:l,items:new Map,next:null};!(l&O)||(t=t.appendChild(Un()));var f,d=null;f=()=>{var l=r(),s=n(l)?l:null==l?[]:Array.from(l),c=s.length,f=a.flags;f&C&&!e(s)&&!(w in s)&&(f^=C)&N&&!(f&S)&&(f^=S),function(n,t,e,l,r,o){var i,u,a,s,c=!!(r&A),f=!!(r&(S|E)),d=n.length,v=t.items,p=t.next,h=p,b=new Set,g=t,m=[],y=[],_=[];if(c)for(s=0;s<d;s+=1)u=o(i=n[s],s),void 0!==(a=v.get(u))&&(a.a?.measure(),m.push(a));for(s=0;s<d;s+=1)if(u=o(i=n[s],s),void 0!==(a=v.get(u))){if(f&&Xn(a,i,s,r),F(a.e),a!==h){if(b.has(a)){if(y.length<_.length){var w,x=_[0],k=Qn(x);g=x.prev;var N=y[0],C=y[y.length-1];for(tt(N.prev,C.next),tt(g,N),tt(C,x),w=0;w<y.length;w+=1)nt(y[w],k);for(w=0;w<_.length;w+=1)b.delete(_[w]);h=x,g=C,s-=1,y=[],_=[]}else b.delete(a),nt(a,h?Qn(h):e),tt(a.prev,a.next),tt(a,g.next),tt(g,a),g=a;continue}for(y=[],_=[];null!==h&&h.k!==u;)b.add(h),_.push(h),h=h.next;if(null===h)continue;a=h}y.push(a),g=a,h=a.next}else g=Zn(h?Qn(h):e,g,g.next,i,u,s,l,r),v.set(u,g),y=[],_=[],h=g.next;const T=Array.from(b);for(;h;)T.push(h),h=h.next;var j=r&O&&0===d?e:null;(function(n,t,e){for(var l=[],r=n.length,o=0;o<r;o++)U(n[o].e,l,!0);if(r>0&&0===l.length&&null!==t){var i=t.parentNode;i.textContent="",i.append(t)}D(l,(()=>{for(var t=0;t<r;t++)P(n[t].e);void 0!==e&&e()}))})(T,j,(()=>{for(var n=0;n<T.length;n+=1){var t=T[n];v.delete(t.k),tt(t.prev,t.next)}})),c&&$((()=>{!function(n){const t=un;try{return un=!0,n()}finally{un=t}}((()=>{for(a of m)a.a?.apply()}))}))}(s,a,t,i,f,o),null!==u&&(0===c?d?F(d):d=z((()=>u(t))):null!==d&&function(n,t){var e=[];U(n,e,!0),D(e,(()=>{P(n),t&&t()}))}(d,(()=>{d=null})))},V(s|c,f,!0)}function Qn(t){var e=t.e.dom;return n(e)?e[0]:e}function Xn(n,t,e,l){l&S&&q(n.v,t),l&E?q(n.i,e):n.i=e}function Zn(n,t,e,l,r,o,i,u){var a=Gn;try{var s=!!(u&S)?!(u&C)?function(n){const t=M(n);return t.equals=k,sn&&(sn.d??=[]).push(t),t}(l):M(l):l,c=u&E?M(o):o,f={i:c,v:s,k:r,a:null,e:null,prev:t,next:e};return t.next=f,null!==e&&(e.prev=f),Gn=f,f.e=z((()=>i(n,s,c))),f}finally{Gn=a}}function nt(t,e){var l=t.e.dom;if(null!==l)if(n(l))for(var r=0;r<l.length;r++)e.before(l[r]);else e.before(l)}function tt(n,t){n.next=t,null!==t&&(t.prev=n)}function et(n,t){var e,l,r=n.__className,o=function(n){return null==n?"":n}(t);(r!==o||qn)&&(null==t?n.removeAttribute("class"):(e=n,l=o,Dn.call(e,l)),n.__className=o)}function lt(n,t){var e,l=!!(1&t),r=!!(2&t);return()=>{var t,o;return e||(t=n,(o=document.createElement("template")).innerHTML=t,e=o.content,l||(e=e.firstChild)),r?document.importNode(e,!0):function(n,t){return $n.call(n,t)}(e,!0)}}function rt(n,t){var e=t,l=t;11===l.nodeType&&(e=[...l.childNodes]),n.before(l),en.dom=e}"undefined"!=typeof window&&(window.__svelte||={v:new Set}).v.add("5");const ot=(n,t,e)=>q(t,Mn([...En(t),...e(1e3)])),it=(n,t)=>{q(t,Mn([]))},ut=(n,t)=>{for(let n=0;n<En(t).length;n+=10){const e=En(t)[n];e.label=e.label+" !!!"}},at=(n,t,e)=>{q(t,Mn(e(1e3)))},st=(n,t,e)=>{q(t,Mn(e(1e4)))},ct=(n,t)=>{if(En(t).length>998){const n=En(t).slice(),e=n[1];n[1]=n[998],n[998]=e,q(t,Mn(n))}};var ft=(n,t,e)=>{q(t,Mn(jn(e).id))},dt=(n,t,e)=>t(jn(e)),vt=lt('<tr><td class="col-md-1"> </td><td class="col-md-4"><a> </a></td><td class="col-md-1"><a><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></td><td class="col-md-6"></td></tr>'),pt=lt('<div id="main" class="container"><div class="jumbotron"><div class="row"><div class="col-md-6"><h1>Svelte (w. Runes) (keyed)</h1></div> <div class="col-md-6"><div class="row"><div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="run">Create 1,000 rows</button></div> <div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="runlots">Create 10,000 rows</button></div> <div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="add">Append 1,000 rows</button></div> <div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="update">Update every 10th row</button></div> <div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="clear">Clear</button></div> <div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="swaprows">Swap Rows</button></div></div></div></div></div> <table class="table table-hover table-striped test-data"><tbody></tbody></table> <span class="preloadicon glyphicon glyphicon-remove" aria-hidden="true"></span></div>');!function(n){for(var t=0;t<n.length;t++)In.add(n[t]);for(var e of Kn)e(n)}(["click"]),function(n,e){const l=e.anchor??e.target.appendChild(Un());Sn((()=>function(n,{target:e,anchor:l,props:r={},events:i,context:u,intro:a=!1}){void 0===Rn&&(Rn=Node.prototype,Ln=Element.prototype,Vn=Text.prototype,Rn.appendChild,$n=Rn.cloneNode,Ln.__click=void 0,Vn.__nodeValue=" ",Ln.__className="",Ln.__attributes=null,zn=o(Rn,"firstChild").get,Pn=o(Rn,"nextSibling").get,o(Rn,"textContent").set,Dn=o(Ln,"className").set);const s=new Set,c=Hn.bind(null,e),f=Hn.bind(null,document),v=n=>{for(let t=0;t<n.length;t++){const l=n[t];s.has(l)||(s.add(l),e.addEventListener(l,c,j.includes(l)?{passive:!0}:void 0),document.addEventListener(l,f,j.includes(l)?{passive:!0}:void 0))}};v(t(In)),Kn.add(v);let p;const h=function(n){const t=V(d,n,!0);return()=>{P(t)}}((()=>(z((()=>{u&&(Cn({}),sn.c=u);i&&(r.$$events=i),p=n(l,r)||{},u&&Tn()})),()=>{for(const n of s)e.removeEventListener(n,c);Kn.delete(v)})));return Yn.set(p,h),p}(n,{...e,anchor:l})),!1)}((function(n,t){Cn(t,!0);let e=1,l=M(Mn([])),r=M(void 0);const o=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],i=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],u=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],a=n=>{const t=En(l).slice();t.splice(t.indexOf(n),1),q(l,Mn(t))};function c(n){return Math.round(1e3*Math.random())%n}class f{id=e++;#n=M(`${o[c(o.length)]} ${i[c(i.length)]} ${u[c(u.length)]}`);get label(){return En(this.#n)}set label(n){q(this.#n,Mn(n))}}function d(n=1e3){const t=new Array(n);for(let e=0;e<n;e++)t[e]=new f;return t}var v=pt(),p=Fn(v),h=Fn(p),b=Fn(h),g=Fn(Bn(Bn(b,!0))),m=Fn(g);Fn(m).__click=[at,l,d];var y=Bn(Bn(m,!0));Fn(y).__click=[st,l,d];var _=Bn(Bn(y,!0));Fn(_).__click=[ot,l,d];var w=Bn(Bn(_,!0));Fn(w).__click=[ut,l];var x=Bn(Bn(w,!0));Fn(x).__click=[it,l],Fn(Bn(Bn(x,!0))).__click=[ct,l],Jn(Fn(Bn(Bn(p,!0))),76,(()=>En(l)),((n,t)=>jn(n)),((n,t,e)=>{var l=vt(),o=Fn(l),i=Fn(o),u=Bn(o),c=Fn(u);c.__click=[ft,r,t];var f=Fn(c);Fn(Bn(u)).__click=[dt,a,t],V(s,(()=>{et(l,En(r)===jn(t).id?"danger":""),Wn(i,jn(t).id),Wn(f,jn(t).label)}),!0),rt(n,l)})),rt(n,v),Tn()}),{target:document.querySelector("#main")})}();
